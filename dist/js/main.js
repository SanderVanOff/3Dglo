(()=>{"use strict";const e=({timing:e,draw:t,duration:s})=>{let a=performance.now();requestAnimationFrame((function l(o){let r=(o-a)/s;r>1&&(r=1);let n=e(r);t(n),r<1&&requestAnimationFrame(l)}))},t=e=>{document.querySelector(e.hash).scrollIntoView({behavior:"smooth",block:"start"})},s=({idForm:e,someElem:t=[]})=>{const s=document.querySelector(e),a=(s.querySelectorAll("input"),document.createElement("div"));a.style.color="#fff";try{s.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=s.querySelectorAll("input"),l=new FormData(s),o={};var r;l.forEach(((e,t)=>{o[t]=e})),t.forEach((e=>{const t=document.querySelector(e.id);"block"===e.type&&0!=+t.textContent?o.calculator=t.textContent:"input"===e.type&&0!=+t.value&&(o.calculator=t.value)})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("success")||(t=!1)})),t})(e)?(a.innerHTML='\n    <div class="spinner-border text-primary mt-3" role="status">\n        <span class="sr-only">Loading...</span>\n    </div>',s.append(a),e.forEach((e=>{e.disabled=!0,e.style.background="rgba(255,255,255,0.9)"})),(r=o,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((()=>{a.innerHTML="",a.textContent="Спасибо. Наш менеджер свяжется с вами!",e.forEach((e=>{e.disabled=!1,e.style.background="",e.value="",e.classList.remove("success"),e.style.outline=""})),setTimeout((()=>{a.remove()}),5e3)})).catch((e=>{console.log(e),a.innerHTML="",a.textContent="Oшибка"}))):alert("Данные не валидны, либо не заполнены все поля")})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.querySelector("#timer-hours"),s=document.querySelector("#timer-minutes"),a=document.querySelector("#timer-seconds");let l;l=setInterval((()=>{const e=(()=>{let e=(new Date("14 january 2022").getTime()-(new Date).getTime())/1e3;return{hour:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60),timeRemaining:e}})(),{hour:o,minutes:r,seconds:n,timeRemaining:c}=e;t.textContent=o<10?`0${o}`:o,s.textContent=r<10?`0${r}`:r,a.textContent=n<10?`0${n}`:n,c<0&&(clearInterval(l),t.textContent="00",s.textContent="00",a.textContent="00")}),1e3)})(),(()=>{const e=document.querySelector("menu"),s=document.querySelector('a[href="#service-block"]'),a=()=>{e.classList.toggle("active-menu")};document.addEventListener("click",(l=>{try{l.target.closest(".close-btn")||l.target.closest(".menu")?(l.preventDefault(),a()):l.target.matches("ul > li > a")?(l.preventDefault(),t(l.target.closest("a")),a()):s===l.target.closest("a")?(l.preventDefault(),t(s)):l.target!==e&&e.classList.contains("active-menu")&&a()}catch(e){console.log(e)}}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),s=document.querySelector(".popup"),a=()=>{s.style.transform="scale(0)",s.style.transition="all 0.3s ease-in-out",s.style.opacity="0","block"!==s.style.display?(s.style.display="block",e({duration:100,timing:e=>e,draw(e){s.style.opacity=`${e}`,s.style.transform=`scale(${e})`}})):e({duration:100,timing:e=>e,draw(e){s.style.transform="scale(0)",s.style.opacity="0",setTimeout((()=>{s.style.display="none"}),200)}})};t.forEach((e=>{e.addEventListener("click",(()=>{document.documentElement.clientWidth>768?a():(s.style.transform="scale(1)",s.style.opacity="1",s.style.display="block")}))})),s.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(document.documentElement.clientWidth>768?a():s.style.display="none")}))})(),((t=100)=>{const s=document.querySelector(".calc-block"),a=document.querySelector(".calc-type"),l=document.querySelector(".calc-square"),o=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),n=document.querySelector("#total");document.querySelectorAll(".calc-block > input").forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D/gi,"")}))})),s.addEventListener("change",(s=>{(()=>{const s=+a.options[a.selectedIndex].value,c=l.value;let i=0,u=1,d=1;o.value>1&&(u+=+o.value/10),r.value&&r.value<5?d=2:r.value&&r.value<10&&(d=1.5),a.value&&l.value?(i=t*s*c*u*d,e({duration:500,timing:e=>Math.pow(e,4),draw(e){n.textContent=Math.round(e*i)}})):i=0})()}))})(100),(()=>{const e=document.querySelectorAll("form"),t=(e,t)=>{"success"===t&&""!==e.value?(e.classList.add(t),e.style.outline="2px solid #28a745"):"success"!==t&&""!==e.value?(e.classList.remove("success"),e.style.outline="2px solid #dc3545"):(e.classList.remove("success"),e.style.outline="")};e.forEach((e=>{e.querySelectorAll("input").forEach((e=>{"text"===e.type||"Ваше сообщение"===e.placeholder?e.addEventListener("blur",(s=>{!/[^а-яА-ЯёЁ0-9 -]/gi.test(s.target.value)&&s.target.value.length>2?(t(s.target,"success"),e.setCustomValidity("")):s.target.value.length<=2?(t(s.target,"error"),e.setCustomValidity("допустимо не меньше 2 символов")):(t(s.target,"error"),e.setCustomValidity("допустима только кириллица"))})):"email"===e.type?e.addEventListener("blur",(e=>{if(/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e.target.value)){t(e.target,"success");const s=[];e.target.value.replace(/([^(a-z0-9) \.\@\-\_])/gi,(t=>{s.push(t),s.length&&(e.target.value=s.join(""))}))}else t(e.target,"error")})):"tel"===e.type&&e.addEventListener("blur",(s=>{!/[^0-9\+ \-\(\)]/gi.test(s.target.value)&&s.target.value.length>=6&&s.target.value.length<=12?(t(s.target,"success"),e.setCustomValidity(""),s.target.value.replace(/([7-8]{1})([0-9]{3})([0-9]{3})([0-9]{2})([0-9]{2})/gi,((e,t,a,l,o,r)=>{s.target.value=`+7 (${a})-${l}-${o}-${r}`}))):s.target.value.length<6||s.target.value.length>12?(t(s.target,"error"),e.setCustomValidity("длина номера телефона должна быть не менее 6 символов и не более 12 символов")):(t(s.target,"error"),e.setCustomValidity("разрешены цифры, знак “+”, круглые скобки и дефис"))}))}))}))})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),s=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){const a=t.target.closest(".service-header-tab");s.forEach(((t,s)=>{t===a?(t.classList.add("active"),e[s].classList.remove("d-none")):(t.classList.remove("active"),e[s].classList.add("d-none"))}))}}))})(),(({sliderContent:e,sliderBtnsClass:t,nextSlideBtn:s,prevSlideBtn:a,sliderItemClass:l,dotsContentClass:o,dotClass:r,dotActiveClass:n="dot-active",slideActiveClass:c="portfolio-item-active",timer:i})=>{if(!e||!l)return;const u=document.querySelector(`.${e}`),d=document.querySelectorAll(`.${l}`),m=document.querySelector(`.${o}`);let v,y,g=0;const p=(e,t,s)=>{e[t].classList.remove(s)},h=(e,t,s)=>{e[t].classList.add(s)},f=()=>{p(d,g,c),p(v,g,n),g++,g>=d.length&&(g=0),h(d,g,c),h(v,g,n)},C=(e=2e3)=>{y=setInterval(f,e)};u.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${r}, .${t}`)&&(p(d,g,c),p(v,g,n),e.target.matches(s)?g++:e.target.matches(a)?g--:e.target.classList.contains(r)&&v.forEach(((t,s)=>{e.target===t&&(g=s)})),g>=d.length&&(g=0),g<0&&(g=d.length-1),h(d,g,c),h(v,g,n))})),u.addEventListener("mouseenter",(e=>{e.target.matches(`.${r}, .${t}`)&&clearInterval(y)}),!0),u.addEventListener("mouseleave",(e=>{e.target.matches(`.${r}, .${t}`)&&C(i)}),!0),d.forEach((()=>{const e=document.createElement("li");e.classList.add(r),m.append(e)})),v=document.querySelectorAll(`.${r}`),v[g].classList.add(n),C(i)})({sliderContent:"portfolio-content",sliderItemClass:"portfolio-item",sliderBtnsClass:"portfolio-btn",nextSlideBtn:"#arrow-right",prevSlideBtn:"#arrow-left",slideActiveClass:"portfolio-item-active",dotsContentClass:"portfolio-dots",dotClass:"dot",dotActiveClass:"dot-active",timer:3e3}),s({idForm:"#form1",someElem:[{type:"block",id:"#total"}]}),s({idForm:"#form2"}),s({idForm:"#form3"})})();